<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8" />
    <meta name="renderer" content="webkit" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title></title>
    <link rel="stylesheet" href="../../dist/layui/css/layui.css" />
    <link rel="stylesheet" href="../../dist/fonts/iconfont.css" />
    <link rel="stylesheet" href="../../css/common.css" />
    <link rel="stylesheet" href="../../css/three/style.css" />
    <script src="../../js/jquery-2.1.1.js"></script>
    <script src="../../dist/layui/layui.all.js"></script>
    <script>
        var layer = layui.layer;
        var form = layui.form;
        var carousel = layui.carousel;
        var laydate = layui.laydate;
        var table = layui.table;
        var laytree = layui.tree;
        var layTreeSelect = layui.treeSelect;
        var layUpload = layui.upload;
        var layElement = layui.element;
    </script>
</head>

<body class="combody">
    
    <div class="searchBox">
        <div class="formTitle m-b-20">生成年度考勤汇总数据</div>
        <div class="layui-form">
            <div class="layui-form-item layui-inline">
                <div class="layui-form-label">年份</div>
                <div class="layui-input-block">
                    <input type="text" name="date" id="starYear" autocomplete="off" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item layui-inline">
                <div class="layui-form-label">开始月份</div>
                <div class="layui-input-block">
                    <input type="text" name="date" id="starMonth" autocomplete="off" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item layui-inline">
                <div class="layui-form-label">结束月份</div>
                <div class="layui-input-block">
                    <input type="text" name="date" id="endMonth" autocomplete="off" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item layui-inline">
                <div class="layui-input-block text-center">
                    <button type="button" class="layui-btn layui-btn-normal" onclick="createData();">开始生成</button>
                </div>
            </div>
        </div>
    </div>
    <div class="p-l-r-15" id="dataBox" style="display: none;">
        <div id="personList"></div>
    </div>
</body>
<script>
    $(function () {

        laydate.render({
            elem: "#starYear",
            type: "year",
            range: true,
        });
        laydate.render({
            elem: "#starMonth",
            type: "month",
            range: false,
        });
        laydate.render({
            elem: "#endMonth",
            type: "month",
            range: false,
        });

        form.render("select");
    });
    function createData() {
        $("#dataBox").fadeIn();
        initTable();
    }
    function initTable() {
        table.render({
            elem: "#personList",
            data: [],
            cellMinWidth: 80,
            page: true,
            cols: [
                [
                    { type: "checkbox", fixed: "left" },
                    { field: "userNumber", width: 80, title: "客户编号" },
                    { field: "serial_number", width: 160, title: "工号", sort: true },
                    { field: "otherName", width: 80, title: "员工" },
                    { field: "fullname", width: 120, title: "考勤卡号", sort: true },
                    { field: "leave_type_name", title: "进/出" },
                    { field: "leave_begin_date_time", title: "刷卡日期" },
                    { field: "leave_end_date_time", title: "刷卡时间" },
                    { field: "leave_days", title: "考勤点" },
                    { field: "data_source_name", title: "来源" },
                    { field: "leave_days_effective", title: "原因" },
                    { field: "leave_hours_effective", title: "最后修改用户" },
                    { field: "data_source_name", title: "最后修改时间" },
                ],
            ],
        });
    }
    function addDate() {
        parent.$.addTab("新增成本分摊", "/pages_three/list/addOut.html");
    }
</script>

</html>